<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Carta Rom√°ntica üíå</title>

<style>
body{
  margin:0;
  overflow:hidden;
  background: radial-gradient(circle at center,#ff9ecf,#ff4da6);
  font-family: 'Segoe UI', cursive;
}

/* Texto interno deslizable */
#contenido{
  position:absolute;
  top:25%;
  left:50%;
  transform:translateX(-50%);
  width:75%;
  max-height:260px;
  overflow-y:auto;
  display:none;
  padding:20px;
  background:white;
  border-radius:20px;
  box-shadow:0 0 30px rgba(0,0,0,0.25);
  z-index:3;
  font-size:16px;
  line-height:1.5;
}
</style>
</head>
<body>

<div id="contenido">
<p>
Han pasado 5 meses desde que nuestras vidas se unieron, y cada d√≠a s√© que eres el hombre de mi vida ‚ù§Ô∏è.
</p>
<p>
Est√°s en cada pensamiento y en cada latido de mi coraz√≥n; tu presencia ilumina mis d√≠as como un rayo de sol ‚òÄÔ∏èüíñ.
</p>
<p>
Me haces sentir la chica m√°s amada del mundo con tus mensajes, llamadas y palabras de amor üíå.
</p>
<p>
Eres atento, cari√±oso y siempre logras hacerme sonre√≠r.
Estoy orgullosa de nosotros y de nuestra relaci√≥n.
</p>
<p>
Eres mi compa√±ero, mi amigo, mi confidente y mi todo üíû.
</p>
<p>
Eres el hombre de mis sue√±os, mi alma gemela, y contigo siento que puedo conquistar el mundo.
</p>
<p>
Te amo m√°s de lo que las palabras pueden expresar üíï‚ú®  
<br><br>
<b>att: Selena‚ù§Ô∏è</b>
</p>
</div>

<audio id="musica" src="https://cdn.pixabay.com/download/audio/2022/02/23/audio_d1718f4c62.mp3?filename=romantic-love-11785.mp3"></audio>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>

<script>

const scene = new THREE.Scene();

const camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
camera.position.set(0,1.5,8);

const renderer = new THREE.WebGLRenderer({antialias:true, alpha:true});
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

/* LUCES */
scene.add(new THREE.AmbientLight(0xffffff,1));
const light = new THREE.DirectionalLight(0xff99cc,1);
light.position.set(5,10,5);
scene.add(light);

/* GRUPO SOBRE */
const group = new THREE.Group();
scene.add(group);

/* BASE SOBRE */
const baseGeo = new THREE.PlaneGeometry(5,3);
const baseMat = new THREE.MeshStandardMaterial({color:0xffcce6, side:THREE.DoubleSide});
const base = new THREE.Mesh(baseGeo,baseMat);
group.add(base);

/* TAPA TRIANGULAR */
const shape = new THREE.Shape();
shape.moveTo(-2.5,0);
shape.lineTo(2.5,0);
shape.lineTo(0,2);
shape.lineTo(-2.5,0);

const flapGeo = new THREE.ShapeGeometry(shape);
const flapMat = new THREE.MeshStandardMaterial({color:0xff4da6, side:THREE.DoubleSide});
const flap = new THREE.Mesh(flapGeo,flapMat);
flap.position.y = 1.5;
flap.position.z = 0.01;
group.add(flap);

/* CORAZONES REALES */
const heartShape = new THREE.Shape();
heartShape.moveTo(0,0);
heartShape.bezierCurveTo(0,0, -0.5,-0.5, -1,0);
heartShape.bezierCurveTo(-2,1.5, 0,3, 0,4);
heartShape.bezierCurveTo(0,3,2,1.5,1,0);
heartShape.bezierCurveTo(0.5,-0.5,0,0,0,0);

const heartGeo = new THREE.ShapeGeometry(heartShape);
const heartMat = new THREE.MeshStandardMaterial({color:0xff0066});

const hearts = [];

for(let i=0;i<40;i++){
  const h = new THREE.Mesh(heartGeo,heartMat);
  h.scale.set(0.2,0.2,0.2);
  h.position.set(
    (Math.random()-0.5)*15,
    Math.random()*8-4,
    (Math.random()-0.5)*10
  );
  scene.add(h);
  hearts.push(h);
}

let abierta = false;

window.addEventListener("click",()=>{

if(abierta) return;
abierta = true;

/* m√∫sica */
document.getElementById("musica").play();

/* abrir tapa */
let abrir = setInterval(()=>{
if(flap.rotation.x > -Math.PI/1.2){
flap.rotation.x -= 0.05;
}else{
clearInterval(abrir);
document.getElementById("contenido").style.display="block";
}
},16);

/* c√°mara entra */
let zoom = setInterval(()=>{
if(camera.position.z > 4){
camera.position.z -= 0.03;
}else{
clearInterval(zoom);
}
},16);

});

/* animaci√≥n flotando */
function animate(){
requestAnimationFrame(animate);

group.position.y = Math.sin(Date.now()*0.002)*0.2;

hearts.forEach(h=>{
  h.position.y += 0.01;
  if(h.position.y > 5) h.position.y = -4;
});

renderer.render(scene,camera);
}

animate();

window.addEventListener("resize",()=>{
camera.aspect = window.innerWidth/window.innerHeight;
camera.updateProjectionMatrix();
renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>

</body>
</html>
